<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      data = {
        u: "http://localhost:8888",
      };

      function box(item) {
        return item;
      }

      function div(content) {
        var d = document.createElement("div");
        d.innerHTML = content;
        cat(d, body);
        return d;
      }

      function dom(type, content, attr) {
        var d = document.createElement(type);
        d.innerHTML = content;
        d.setAttribute(attr.k, attr.v);
        return d;
      }

      create;
      read;
      update;
      delete function $(target) {
        return document.querySelector(target);
      };

      function cat(d1, d2) {
        d2.appendChild(d1);
      }

      async function fetc(url, type) {
        fetch(url)
          .then((res) => (type == "text" ? res.text() : res.json()))
          .then((data) => console.log(data));
      }

      Window.$ = $;
      window.y = {
        $,
        dom,
        cat,
        fetc,
        box,
        div,
      };
      window.onload = function init() {
        body = box(document.body);

        root = dom("div", "root", { k: "id", v: "root" });

        y.cat(root, body);
      };
    </script>
  </body>
</html>
